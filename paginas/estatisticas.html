<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <!-- Definindo o conjunto de caracteres como UTF-8 para suportar caracteres especiais -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Configurando a exibição para dispositivos móveis -->
  <title>ENADE 2021</title>
  <!-- Definindo o título da página exibido na aba do navegador -->
  <link rel="stylesheet" href="style_index.css">
  <!-- Incluindo um arquivo CSS externo chamado "style_index.css" para estilização -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <!-- Incluindo a biblioteca Bootstrap CSS a partir de um CDN (Content Delivery Network) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <!-- Incluindo a biblioteca Bootstrap JavaScript a partir de um CDN -->
  <script src="https://kit.fontawesome.com/c60349cba5.js" crossorigin="anonymous"></script> <!-- Importa ícones do font awesome -->
</head>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<body class="corpo row">
  <!-- Abertura do corpo da página, onde todo o conteúdo HTML é definido -->
  <!-- Adicionando uma classe "corpo" e "row" ao elemento body para fins de estilização -->

  <header class="row d-flex align-items-center">
    <!-- Cabeçalho da página, que contém o logotipo e o menu de navegação -->
    <a href="index.html" class="logo col-3">
      <!-- Link com destino para "index.html" e uma classe "logo" -->
      <img src="../imagens/logosimulado-transformed.png" class="logosite" alt="Logo">
      <!-- Inserindo uma imagem com caminho "../imagens/logosimulado-transformed.png" e uma classe "logosite" com texto alternativo "Logo" -->
    </a>

    <nav class="col-9 d-flex justify-content-end gap-5" style="display: flex; align-items: center;"> <!-- Style foi definido para operar sobre o switch de dark mode, alinhando-o ao centro -->

      <input type="checkbox" class="checkbox" id="chk"> <!-- Cria um input do tipo checkbox com a classe 'checkbox' e id 'chk' -->
      <label class="label" for="chk"> <!-- Cria uma label associada ao input acima (por meio do atributo 'for') com a classe 'label' -->
        <i class="fas fa-moon"></i> <!-- Ícone de lua do Font Awesome, que pode representar o modo escuro -->
        <i class="fas fa-sun"></i> <!-- Ícone de sol do Font Awesome, que pode representar o modo claro -->
        <div class="ball"></div> <!-- Div que pode ser usada para criar a bola do switch que se move ao alternar entre os modos -->
      </label> <!-- Fim da label -->

      <!-- Menu de navegação, com links para diferentes páginas da aplicação -->
      <a href="index.html"><button class="btn btn-outline-primary index">INÍCIO</button></a>
      <!-- Link para a página "index.html" com um botão "INÍCIO" estilizado -->
      <a href="instrucoes.html"><button class="btn btn-outline-primary instrucoes">INSTRUÇÕES</button></a>
      <!-- Link para a página "instrucoes.html" com um botão "INSTRUÇÕES" estilizado -->
      <button class="btn btn-outline-primary destaque" onclick="confirmRedirect()" style="margin-right: 20px;">REINICIAR SIMULADO</button>
      <!-- Link para a página de instruções com um botão "REINICIAR SIMULADO" estilizado, vinculado à função confirmRedirect, através do evento onclick, para apagar as respostas salvas em LocalStorage e retornar para a tela de instruções. -->
      <a href="sobre.html"><button class="btn btn-outline-primary sobre">SOBRE</button></a>
      <!-- Link para a página "sobre.html" com um botão "SOBRE" estilizado -->
      <a href="creditos.html"><button class="btn btn-outline-primary creditos">CRÉDITOS</button></a>
      <!-- Link para a página "creditos.html" com um botão "CRÉDITOS" estilizado -->
    </nav>
  </header>

  <container class="row justify-content-center p-0">
    <!-- Container principal da página com uma classe "row" e estilos de alinhamento -->
    <main class="pt-5 col-7">
      <!-- Conteúdo principal da página, com margem interna, largura de coluna e alinhamento -->
      <h1 class="fs-2 mb-4 pb-4">Estatísticas</h1>
      <!-- Título principal da página com classe "fs-2" e estilos de margem interna -->

      <style>
        .chart-container {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-around;
        }

        .chart-item {
          flex: 1 0 30%; /* Cresce, não encolhe, base em 30% */
          max-width: 30%;
          margin: 15px; /* Adiciona uma margem de 10px */
        }

        @media (max-width: 800px) {
          .chart-item {
            flex: 1 0 45%; /* Cresce, não encolhe, base em 45% */
            max-width: 45%;
          }
        }

        @media (max-width: 600px) {
          .chart-item {
            flex: 1 0 100%; /* Cresce, não encolhe, base em 100% */
            max-width: 100%;
          }
        }
      </style>

      <script>
        var allQuestions = [
          [1,'E',[20, 10, 5, 8, 7]],
          [2,'C',[25, 8, 10, 4, 3]],
          [3,'B',[12, 15, 8, 10, 5]],
          [4,'B',[5, 22, 8, 10, 5]],
          [5,'A',[30, 10, 3, 4, 3]],
          [6,'A',[28, 12, 5, 3, 2]],
          [7,'C',[10, 10, 15, 8, 7]],
          [8,'D',[10, 9, 10, 15, 6]],
          [9,'E',[8, 8, 10, 9, 15]],
          [10,'B',[10, 20, 5, 8, 7]],
          [11,'D',[15, 10, 8, 20, 7]],
          [12,'B',[10, 20, 8, 7, 5]],
          [13,'E',[3, 3, 30, 3, 11]],
          [14,'C',[8, 7, 20, 8, 7]],
          [15,'C',[10, 8, 20, 7, 5]],
          [16,'B',[5, 25, 8, 7, 5]],
          [17,'C',[10, 8, 20, 7, 5]],
          [18,'E',[10, 5, 8, 15, 12]],
          [19,'D',[3, 5, 4, 25, 13]],
          [20,'A',[20, 15, 8, 6, 1]],
          [21,'E',[10, 8, 10, 5, 17]],
          [22,'A',[20, 15, 10, 3, 2]],
          [23,'C',[5, 10, 20, 8, 7]],
          [24,'E',[8, 25, 5, 3, 9]],
          [25,'B',[8, 20, 8, 7, 7]],
          [26,'A',[20, 8, 12, 5, 5]],
          [27,'D',[10, 8, 8, 20, 4]],
          [28,'D',[8, 22, 5, 10, 5]],
          [29,'A',[30, 5, 8, 4, 3]],
          [30,'A',[20, 10, 8, 6, 6]],
          [31,'D',[10, 8, 8, 20, 4]],
          [32,'A',[20, 8, 10, 10, 2]],
          [33,'C',[15, 12, 20, 1, 2]],
          [34,'C',[8, 15, 20, 3, 4]],
          [35,'E',[10, 5, 5, 10, 20]]
        ]

        function drawResponses(question, answer, valuesAnswers) {
          var xArray = ["A", "B", "C", "D", "E"];
          var yArray = valuesAnswers;

          var layout = {
            title:"<b>Questão " + question + ": Alternativa " + answer + "</b>",
            titlefont: {color: 'white'},
            xaxis: {
              title: 'Alternativas',
              titlefont: {color: 'white'},
              tickfont: {color: 'white'}},
            yaxis: {
              title: 'Número de respostas',
              titlefont: {color: 'white'},
              tickfont: {color: 'white'}},
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)'
          };

          var data = [{x:xArray, y:yArray, type:"bar", marker: {color: '#0D6EFD'}}];

          var divQuestion = "Question" + question;
          
          document.write('<div id="' + divQuestion + '" class="chart-item"></div>');
          
          Plotly.newPlot(divQuestion, data, layout, {displayModeBar: false}); 
        }

        document.write('<div class="chart-container">');

        for (let i = 0; i < allQuestions.length; i++) {
          drawResponses(allQuestions[i][0], allQuestions[i][1], allQuestions[i][2]);
        }

        document.write('</div>');
      </script>

    </main>

    <footer class="row">
      <!-- Rodapé da página -->
      <div class="col-12 d-flex justify-content-center align-items-center gap-5">
        <!-- Uma seção no rodapé com estilos de alinhamento e espaçamento -->
        <a href="https://www.fateccarapicuiba.edu.br/" target="_blank"><img src="../imagens/logoFatec.png" alt="Fatec de Carapicuíba" class="logosite"></a>
        <!-- Link para o site da Fatec de Carapicuíba com abertura em uma nova guia e uma imagem do logotipo da Fatec -->
        <a href="https://www.vestibularfatec.com.br/unidades-cursos/curso.asp?c=194" target="_blank"><img src="../imagens/logoADS.png" alt="Análise e Desenvolvimento de Sistemas" class="logosite"></a>
        <!-- Link para o site do curso "Análise e Desenvolvimento de Sistemas" com abertura em uma nova guia e uma imagem do logotipo do curso -->
        <a href="https://www.cps.sp.gov.br/" target="_blank"><img src="../imagens/logoCPS.png" alt="Centro Paula Souza" class="logosite"></a>
        <!-- Link para o site do Centro Paula Souza com abertura em uma nova guia e uma imagem do logotipo do Centro Paula Souza -->
      </div>
    </footer>
  </container>
</body>
<!-- Fechamento do corpo da página -->

<script>
  // -- FUNCIONALIDADE DOS BOTÕES DA NAV BAR --
  var paginaAtual = window.location.pathname.split("/").pop().split(".")[0]; // Obtenha o nome do arquivo da página atual
  var botaoAtual = document.querySelector('.btn.' + paginaAtual); // Use o seletor CSS para encontrar o botão que tem a classe igual ao nome do arquivo da página atual
  if (botaoAtual) { // Adicione a classe 'active' ao botão da página atual
    botaoAtual.classList.add('active');
  }


  // -- Função para reinicio do simulado --
  function confirmRedirect() { // Nomeia a função como "confirmRedirect"
  var r = confirm("Todo o seu progresso será perdido.\nVocê tem certeza que quer reiniciar a prova?"); 
  // Utiliza a função confirm para exibir uma caixa de diálogo de confirmação ao usuário com a mensagem especificada. O resultado da confirmação (true ou false) é armazenado na variável r.

  if (r == true) { // Se o usuário confirmar (clicar em "OK"), o código dentro deste bloco será executado.
    localStorage.clear();  // Limpa todos os dados armazenados no localStorage, usado para reiniciar o progresso ou dados do usuário, uma vez que o simulado será reiniciado.
    window.location.href = "../paginas/instrucoes.html"; // Redireciona o usuário para a página de instruções (../paginas/instrucoes.html). Isso ocorre após a confirmação e a limpeza do localStorage, indicando que o simulado está sendo reiniciado.
  }
}
</script>

</html>